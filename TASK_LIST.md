# ClubSpace 개발 태스크 리스트

## 📋 Phase 1: Foundation & Infrastructure (Weeks 1-2)

### T001: Next.js 프로젝트 초기 설정 [P0] - 0.5주 ✅ **완료**
- [x] Next.js 14 프로젝트 생성 (`npx create-next-app@latest`)
- [x] TypeScript 설정 및 구성
- [x] Tailwind CSS 설치 및 기본 구성
- [x] ESLint, Prettier 설정
- [x] 기본 폴더 구조 생성 (`components`, `lib`, `hooks`, `store`)

### T002: Firebase 프로젝트 구성 [P0] - 0.5주 ✅ **완료**
- [x] Firebase 프로젝트 생성 및 웹 앱 등록
- [x] Firebase SDK 설치 (`firebase`, `@firebase/auth`, `@firebase/firestore`)
- [x] Firebase 설정 파일 생성 (`lib/firebase.ts`)
- [x] Authentication, Firestore, Storage, Functions 활성화
- [x] 환경변수 설정 (`.env.local`)

### T003: 개발 환경 구성 [P0] - 0.5주 ✅ **완료**
- [x] Firebase Emulators Suite 설치 및 설정
- [x] VS Code 확장 프로그램 설정 권장사항 작성
- [x] 로컬 개발 스크립트 작성 (`package.json`)
- [x] Git 저장소 초기화 및 `.gitignore` 설정

### T004: 기본 라우팅 및 페이지 구조 [P0] - 0.5주 ✅ **완료**
- [x] Next.js App Router 기본 페이지 생성
- [x] 레이아웃 컴포넌트 생성 (`app/layout.tsx`)
- [x] 기본 페이지들 생성 (`/, /dashboard, /clubs, /events`)
- [x] 네비게이션 컴포넌트 기본 구조

## 📋 Phase 2: Authentication & User Management (Weeks 3-4)

### T005: Firebase Auth 통합 [P0] - 1주 ✅ **완료** (2025-09-10)
- [x] Firebase Auth 설정 및 provider 구성 (Google, Email/Password)
- [x] 로그인/회원가입 페이지 UI 구현
- [x] Auth context 및 hooks 구현 (`useAuth`)
- [x] 로그인/로그아웃 기능 구현
- [x] 소셜 로그인 (Google) 구현
- [x] 이메일 인증 플로우 구현 및 상태 동기화
- [x] Firebase Console 연동 및 실제 프로젝트 설정

### T006: 사용자 프로필 시스템 [P0] - 0.5주 ✅ **완료** (2025-09-10)
- [x] User 데이터 모델 정의 (Firestore)
- [x] 사용자 프로필 생성 함수 구현
- [x] 프로필 읽기/업데이트 API 함수
- [x] 프로필 페이지 UI 구현
- [x] 사용자 인증 상태 실시간 동기화

### T007: 보호된 라우트 구현 [P0] - 0.5주 ✅ **완료** (2025-09-10)
- [x] 인증 가드 컴포넌트 구현 (`AuthGuard`)
- [x] 보호된 페이지들에 인증 가드 적용
- [x] 로그인 리다이렉션 로직 구현
- [x] 인증 상태에 따른 네비게이션 표시

### T008: 세션 관리 [P0] - 0.5주 ✅ **완료** (2025-09-10)
- [x] Firebase Auth 토큰 자동 갱신 구현
- [x] 로컬 스토리지 기반 세션 지속성
- [x] 사용자 상태 전역 관리 (Zustand)
- [x] 인증 에러 처리
- [x] 인증 상태 새로고침 기능 구현

## 📋 Phase 3: Club Management (Weeks 5-6)

### T009: 클럽 생성 및 관리 [P0] - 1주 ✅ **완료** (2025-09-10)
- [x] Club 데이터 모델 정의 (Firestore)
- [x] 클럽 생성 폼 UI 구현 (전체 기능)
- [x] 클럽 생성 API 함수 구현
- [x] 클럽 목록 조회 및 표시 (검색, 필터링 포함)
- [x] 클럽 상세 정보 페이지 (멤버 관리 포함)
- [x] 클럽 설정 관리 및 CRUD 작업
- [x] 실시간 데이터 동기화

### T010: 멤버 초대 시스템 [P0] - 0.5주 ⏳ **보류**
- [ ] 초대 링크 생성 기능 (후순위)
- [ ] 이메일 초대 기능 (Firebase Functions) (후순위)
- [ ] 초대 수락/거절 로직 (후순위)
- [ ] 대기 중인 초대 관리 UI (후순위)

### T011: 역할 기반 권한 시스템 [P0] - 0.5주 ✅ **완료** (2025-09-10)
- [x] 역할 데이터 모델 (owner/organizer/member/guest)
- [x] 권한 검사 로직 구현 (`checkPermissions`)
- [x] 역할별 UI 조건부 렌더링
- [x] Firestore 보안 규칙 구현 및 배포

### T012: 기본 멤버 관리 [P0] - 0.5주 ✅ **완료** (2025-09-11)
- [x] 클럽 가입/탈퇴 기능 구현
- [x] 멤버 목록 표시 및 검색
- [x] 클럽 통계 표시 (멤버 수)
- [x] 기본 멤버 관리 UI (소유자/관리자용)

### T009B: 클럽 CRUD UI 완성 [P0] - 0.5주 🚨 **긴급**

#### 🎯 Phase 1: 핵심 편집 기능 (2일)
- [ ] 편집 페이지 라우트 및 권한 검증
  - [ ] `/clubs/[clubId]/edit/page.tsx` 페이지 생성
  - [ ] 편집 페이지 권한 검증 로직 구현 (소유자만 접근)
  - [ ] 권한 없는 사용자 리다이렉트 처리
- [ ] 편집 폼 컴포넌트 구현
  - [ ] `EditClubForm.tsx` 컴포넌트 생성
  - [ ] 기존 클럽 데이터로 폼 미리 채우기 (prefill)
  - [ ] 폼 필드별 유효성 검증
- [ ] API 연동 및 상태 관리
  - [ ] `updateClub` API 연동 및 기본 에러 처리
  - [ ] 편집 완료 후 클럽 상세 페이지로 리다이렉트
  - [ ] 낙관적 업데이트 및 롤백 처리

#### 🔥 Phase 2: 삭제 기능 (1일)
- [ ] 삭제 모달 컴포넌트 구현
  - [ ] `DeleteClubModal.tsx` 컴포넌트 생성
  - [ ] 경고 메시지 및 위험성 안내
  - [ ] 클럽 이름 입력 확인 로직 구현 (안전장치)
- [ ] Danger Zone UI 추가
  - [ ] 편집 페이지에 Danger Zone 섹션 추가
  - [ ] 삭제 버튼 UI 및 상호작용
- [ ] 삭제 로직 완성
  - [ ] `deleteClub` API 연동
  - [ ] 삭제 완료 후 클럽 목록 페이지로 리다이렉트
  - [ ] 삭제 불가 조건 처리 (활성 이벤트 있을 경우)

#### ✨ Phase 3: UX 개선 (2일) 
- [ ] 고급 폼 기능
  - [ ] 실시간 폼 유효성 검증 구현
  - [ ] 클럽 이름 중복 검사 (현재 이름 제외)
  - [ ] 변경사항 감지 및 저장 버튼 활성화
- [ ] 사용자 피드백 시스템
  - [ ] 로딩 상태 및 스켈레톤 UI 구현
  - [ ] 성공/에러 토스트 메시지 시스템
  - [ ] 폼 변경 시 페이지 이탈 경고

#### ⚡ Phase 4: 최적화 (1일)
- [ ] 성능 최적화
  - [ ] 편집 페이지 코드 스플리팅 (dynamic import)
  - [ ] 삭제 모달 지연 로딩 구현
  - [ ] React.memo 및 useCallback 최적화
- [ ] 접근성 개선
  - [ ] ARIA 속성 및 키보드 네비게이션 구현
  - [ ] 스크린 리더 접근성 개선
  - [ ] 포커스 관리 및 탭 순서 최적화

## 📋 Phase 4: Event System (Weeks 7-8)

### T013: 이벤트 생성 시스템 [P0] - 1주
- [ ] Event 데이터 모델 정의
- [ ] 이벤트 생성 폼 UI (날짜, 시간, 장소, 참가비 등)
- [ ] 폼 유효성 검사 및 에러 처리
- [ ] 이벤트 생성 API 구현
- [ ] 이미지 업로드 기능 (Cloud Storage)

### T014: 이벤트 목록 및 뷰 [P0] - 0.5주
- [ ] 이벤트 목록 페이지 구현
- [ ] 캘린더 뷰 컴포넌트 구현
- [ ] 이벤트 필터링 (날짜, 카테고리)
- [ ] 이벤트 검색 기능

### T015: RSVP 시스템 [P0] - 1주
- [ ] RSVP 데이터 모델 및 상태 관리
- [ ] 실시간 RSVP 업데이트 (Firestore onSnapshot)
- [ ] RSVP 버튼 컴포넌트 구현
- [ ] 참석자 목록 실시간 업데이트
- [ ] 최대 참석자 수 제한 로직

### T016: 이벤트 상세 페이지 [P0] - 0.5주
- [ ] 이벤트 상세 정보 페이지 UI
- [ ] 참석자 목록 표시
- [ ] 이벤트 수정/삭제 기능 (권한 체크)
- [ ] 이벤트 공유 기능

## 📋 Phase 5: Real-time Communication (Weeks 9-10)

### T017: 채팅 인프라 구축 [P0] - 1주
- [ ] ChatMessage 데이터 모델 정의
- [ ] Firestore 실시간 리스너 구현
- [ ] 채팅방 생성 및 관리
- [ ] 메시지 정렬 및 페이지네이션

### T018: 메시지 시스템 [P0] - 0.5주
- [ ] 메시지 전송 컴포넌트 구현
- [ ] 메시지 표시 컴포넌트 구현
- [ ] 실시간 메시지 수신 및 표시
- [ ] 메시지 상태 표시 (전송됨, 읽음)

### T019: FCM 푸시 알림 [P1] - 1주
- [ ] Firebase Cloud Messaging 설정
- [ ] 서비스 워커 구현 (`sw.js`)
- [ ] 알림 권한 요청 및 토큰 관리
- [ ] 백그라운드 알림 처리
- [ ] Cloud Functions 트리거 구현

### T020: 공지사항 시스템 [P1] - 0.5주
- [ ] 공지사항 데이터 모델 및 UI
- [ ] 공지사항 생성/수정/삭제 (관리자만)
- [ ] 공지사항 알림 발송
- [ ] 중요 공지사항 고정 기능

## 📋 Phase 6: Enhanced Features (Weeks 11-12)

### T021: 설문조사 및 투표 [P1] - 1주
- [ ] Poll/Survey 데이터 모델 정의
- [ ] 설문 생성 폼 (객관식, 주관식, 다중선택)
- [ ] 투표 참여 인터페이스
- [ ] 실시간 투표 결과 표시
- [ ] 투표 마감 및 결과 공유

### T022: 파일 업로드 및 사진 공유 [P1] - 1주
- [ ] Firebase Cloud Storage 파일 업로드
- [ ] 이미지 최적화 및 리사이징
- [ ] 갤러리 컴포넌트 구현
- [ ] 파일 다운로드 및 공유
- [ ] 파일 크기 및 타입 제한

### T023: 고급 이벤트 기능 [P1] - 1주
- [ ] 대기자 명단 (waitlist) 기능
- [ ] 이벤트 알림 및 리마인더
- [ ] 반복 이벤트 생성
- [ ] 이벤트 카테고리 및 태그
- [ ] 이벤트 평가 및 후기

## 📋 Phase 7: Extended Features (P2 - Post MVP)

### T024: 회비 관리 시스템 [P2] - 2주
- [ ] 회비 데이터 모델 및 결제 추적
- [ ] 회비 납부 현황 대시보드
- [ ] 결제 알림 및 독촉 시스템
- [ ] 재정 보고서 생성
- [ ] 결제 내역 관리

### T025: 멤버 마켓플레이스 [P2] - 2주
- [ ] 마켓플레이스 게시글 모델
- [ ] 상품 등록 및 관리 인터페이스
- [ ] 카테고리 및 검색 기능
- [ ] 거래 상태 관리
- [ ] 채팅 기반 거래 협상

### T026: 분석 및 리포팅 [P2] - 1.5주
- [ ] 클럽 활동 통계 대시보드
- [ ] 멤버 참여도 분석
- [ ] 이벤트 성과 지표
- [ ] 데이터 시각화 컴포넌트
- [ ] 보고서 내보내기 기능

## 📋 Testing & Quality Assurance

### T027: 테스팅 및 품질 관리 [연속적]
- [ ] Jest 및 Testing Library 설정
- [ ] 단위 테스트 작성 (핵심 기능)
- [ ] 통합 테스트 구현
- [ ] E2E 테스트 (Playwright)
- [ ] 성능 테스트 및 최적화

### T028: 보안 및 배포 [P0]
- [ ] Firestore 보안 규칙 완성
- [ ] 입력 검증 및 XSS 방지
- [ ] 환경별 배포 설정 (dev/staging/prod)
- [ ] 모니터링 및 로깅 설정
- [ ] 성능 최적화 (이미지, 코드 스플리팅)

## 🎯 우선순위별 실행 계획

### 즉시 시작 (Week 1)
1. **T001** - Next.js 프로젝트 설정
2. **T002** - Firebase 설정
3. **T003** - 개발 환경 구축

### 주요 마일스톤
- **Week 4**: T008 완료 → 인증 시스템 완성
- **Week 6**: T012 완료 → 클럽 관리 완성  
- **Week 8**: T016 완료 → **MVP 완성** (핵심 기능)
- **Week 10**: T018 완료 → 실시간 채팅 완성
- **Week 12**: T023 완료 → **전체 기능셋 완성**

### 병렬 개발 가능 (Week 9부터)
- 이벤트 시스템 (T013-T016) + 채팅 시스템 (T017-T018)
- 프론트엔드 UI + 백엔드 API
- 테스팅 (T027) + 새 기능 개발

## 📝 개발 가이드라인

### 코드 품질
- TypeScript strict 모드 사용
- 컴포넌트별 단위 테스트 작성
- ESLint/Prettier 규칙 준수
- Git commit 컨벤션 따르기

### 성능 목표
- 페이지 로딩: 3초 이내
- 채팅 응답: 1초 이내
- 모바일 퍼포먼스 최적화
- Lighthouse 점수 90+ 유지

---

## 🔧 긴급 후속 개선 작업 (Post-MVP Priority)

### T031: 사용자 경험 개선 [P1] - 1주
- [ ] **Google OAuth COOP 헤더 문제 해결**
  - 조건부 popup/redirect 로직 구현 (모바일/데스크톱 분기)
  - COOP 헤더 충돌 상황 처리
  - 브라우저 호환성 개선
  
### T032: 성능 최적화 [P1] - 1주  
- [ ] **N+1 쿼리 문제 해결** (clubService.ts getUserClubs 함수)
- [ ] **번들 크기 최적화** (이미지 lazy loading, 코드 스플리팅)
- [ ] **캐싱 전략** 구현 (React Query, SWR)

### T033: 보안 강화 [P1] - 1.5주
- [ ] **서버사이드 검증** (Firebase Cloud Functions)
- [ ] **XSS 방지** (입력 sanitization, CSP 헤더)
- [ ] **API 보안** 강화

### T034: 품질 관리 시스템 [P2] - 2주
- [ ] **테스트 프레임워크** 설정 (Jest, Testing Library, Playwright)
- [ ] **모니터링 시스템** (Sentry, 성능 추적)
- [ ] **CI/CD 파이프라인** 구축